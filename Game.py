from random import randint
from time import sleep

from Character import Character
import os

class Game:
    def __init__(self):
        self.close = False
        self.character = None
        self.clear = lambda: os.system('cls')
        self.history = []

    def clear_console(self):
        self.clear()

    def start(self):
        self.clear_console()
        print("Welcome to the game!")
        print("What is your name?")
        name = input()

        self.clear_console()
        print("You start with 10 HP at level 1 and 0 gold coins. Type 'Stats' at any time to check your stats.")

        strength_bonus = randint(-5, 5)
        dexterity_bonus = randint(-5, 5)
        constitution_bonus = randint(-5, 5)
        intelligence_bonus = randint(-5, 5)
        wisdom_bonus = randint(-5, 5)
        charisma_bonus = randint(-5, 5)

        print(f"Your strength bonus is: {strength_bonus}.")
        print(f"Your dexterity bonus is: {dexterity_bonus}.")
        print(f"Your constitution bonus is: {constitution_bonus}.")
        print(f"Your intelligence bonus is: {intelligence_bonus}.")
        print(f"Your wisdom bonus is: {wisdom_bonus}.")
        print(f"Your charisma bonus is: {charisma_bonus}.")
        print(f"Good luck, {name}. This world is just waiting for you.")

        self.character = Character(name, 10, 1, 0,0, strength_bonus, dexterity_bonus, constitution_bonus, intelligence_bonus, wisdom_bonus, charisma_bonus)

        self.start_game()

    def start_game(self):
        print(
            """
░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▓▒▒▓▓██▓█▓▓████▓▓██▓▓▓▒▓▓▓▓▓▓▒▓▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░░░░▒▒▒▓▓▒░▒░▒▒▒▒▓▓▓░▓▓▓▓▓▓▒█▓▓▓▒▒▓▓▓▓▓▓▒▓▓▓▒▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░░▒░▒▒▒▓▓▒▒▓▓▓█▓▒██▓▓▓▓▓▓▓▓▓██▓▓▒▒▒░▒▒▒▒░░▓▓▓▒▒▒░░░░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░░▒▒▒▒▒▒▓▒▓▓▓▓▓▓▓▓█▓▓█████▓▓█▓▓▓▓▓▓▓▓▓▓▒▒▓▒▒░▒▓▓▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░▒▒▒▓▓▓▒▓▓▓▓▒░▒▒████▓▓▓██▓▓▓▒█▓▓▒▓▓▒▓▓▓▓▓▒▓▓▓▒▓▓▓▒▒▒▒▒▒▒▓▒░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░▒▒▓▓▓▓▒▓▓▓▓▓▓▓██████▓▒▒▓▓▒▒░░█▓▓▒░▓▓▓▓▓▒▒▓▓▓▓▓▓▒▒▒▒▒░░░▒▒▒▒░░▒▒▒░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░▒▒▒▓░▓▓▓▓▒▒▒▓█▓▓▓▓░░░░░░░░░░░░░░░░░░░░░▓▓▓▓▓▓▒░▒▒▒▒▒▒▓▓▒░░▒▓▓▒▒░░░░░░░░░░░░░░░░
░░░░░░░░░▒░░▒▒▒▒▒▒░░░░▒█▓█▓▒▒▓▓▒░░░░░░░░░░░░░░░░░░░░░░░▒▓▓▓▒░▒▓▓▒▒▒▒▒█▓▒▒▒▓▓▒▒▒░░░░░░░░░░░░░░░
░░░░░░░░░▒░▒▒▒▒▒▒▒▒░░▓▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▓▓▓▓▒▒▒░░▒░░░▒▓▓▓▒▒▒░░░░░░░░░░░░░░
░░░░░░░░▒▒░▒▒▒▒▓▓▓░░▓▓▓▓▓▓▒░░░░░░░░░░░░▒▒▒░░░░░░░░░░░░░░░░░░▒▓▓▓▒▒░░▒▒▓▓▒▒▓▒░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░▒░▒▒▒▒▒▒▓▓▓▓▒░░░░░░░░▒▓▓▓▒▓▓▓▓▒▓▓▒░▒▓▓▒▓▒░░░░░░░░░▒▓▒▒▒▒▒▓▒▒▒▒░▒░░░▒▒░░░░░░░░░░░░░
░░░░░░░░░▒▒▒▒▒▒▓▒░▒▒▓▒▒▒▒░░░░░░▒▓▒▒▓▓▓▒▒▓▓▒░▒░▒▒▒░▓▓▓▒▓▒░░░░░░▒▒▒▒░▒░░░░░▓██▓▒▒▒░░░░░░░░░░░░░░
░░░░░░░░░░▒▒▒░▒▒▒▒▓░░░▒░░░░░░░▓▓▓▓▓▓▒▒▒░░░░░░░░░░░░░░▒▒▒▓▒▒░░░░░▓▒▒▒▒▒▓▒▒▒▓▓▒▓▒▒░░░░░░░░░░░░░░
░░░░░░░░░▒▒▒▒▒░░░▓▓▓▒▒▒░░░░░▒▓▒▒▓▓▒▒░░░░░░░░░░░░░░░░░▒▓▓▓▓▒▒░▒▒▒▒▒▒▒▒░▒▒▒░▓▓▓▓▒▓░░░░░░░░░░░░░░
░░░░░░░░▒▓▓▒▒▒▒░░▒▒▒▒▒░░░░░▓▓▓▓▒▒░░░░░░░░░░░░░░░░░░░██▓▒▒▓▓▒▒▒░▒▒▒▒░▒▒░▒▒▒▒▓▓▒▒▓▒░░░░░░░░░░░░░
░░░░░░░░▒▒▒░░░░▒▓░░░░░░░░░▓▓▒░▒▒░░░░░░░░░░░░░░░░░░░▓▓▒▒▒▒▒▓▓▒▒░░▒▒▒▒▒▒░░░░▒░░░░░░░░░░░░░░░░░░░
░░░░░░░░▒▒▓▒▒▓░▒▒▒▒░░░░░▒▓▒▒▒▒░░░░░░░░░░░░░░░░░░░░▓█▒▒░▓▓▒░▓▒▒▒░░░░▒▒▒▒░▓▒▒▒░▓▓▒▒▒▒░░░░░▒▒▒░░░
░░░░░░░░▒▒▓░▒▒░▒▒▒▒▒░░░░▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░▓▓▒░▒▒▓▒▒▒▒▒▒░▒▒▒▒▒▒▒▒░▒▒░▒▓▓▒▒▒▒▒░░░▒▒▒░░░░
░░░░░░░░▒▒▒░▒▒░▒▒▒▒░░░▓▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░▓▓▒░▒▒▒▒▒▒▒▒▒▒░░▒▒▒▒▒▒░░░░░▒▒▓▒▒▒▒░░░░▒▒▒▒░░░
░░░░░░░░░▒▒░░░░▒▒▒▒░░▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░▓▓▒░▒▒▒▒▒▒▒░▒▒░░▒░░░▒░░░░▒░▒▒▒▒░░░░░░░▒▒▒▒░░░
▒░░░░░░░░░░▒▒▒▒▒▒▒░░░▒░▒▒▒░░░░░░░░░░░░░░░░░░░░░░▒▓▓▒▒▒▒▒▒▒▒▒▒░▒▒░░▒░░░░▒▒▒▒░░▒▒░░░░░░░░░▒▒▒░░░
▒▒░░░░░░░░░▒▒▒▒▒▒▒▒░▓▓▓▓▓▒░░░░░░░░░░░░░░░░░░░░░░░▒▒░▒▒▒▒▒▒▒▒▒░▒▒░░░░░░▒░░░░░▓▓▓▒▒▒▒▒░░░░▒▒▒░░░
▒▒░░░░░░░░░▒▒▒▒▒▒▒░░▒▒▒▒▒▒░▒▓▓░░░░░░░░░░░░░░░░░░░▒▒░▒▒▒▒▒▒▒▒▒░▒▒░░▒▒░░▒░░░░▒▓▓▒▒▒▒░░░░░░░░░░░░
░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒░░░▒▒░░░░░░░░░░░░░░░░░░▒▓▒▒▒▒▒▓▓▓▓▓▒▒▒▒░░░░░░░░░░░░▒▒▒▒▒░░░▒▓▓▒▒░▒▒▒░
▒▒░░░▒▓▓▓▒▒▒▒▒░▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒░░░░░░░░░░░░▒░░▒▒░░░░░░▒▓▓▓▒░░░░▓▓▓▒▒░░░░░░
▒▒▒░░░▒▒▒▒░▒▒░▒▒▒▒▒░▒▒░░▒░░▓▓▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒░░░░▒███▓░░░░░▒▒▒▒░░░░░▒▒░
░▒░░░░▒▒▓▓░░░▒▒▒▒▒▒░▒▒▒▒▒░░▒▒▒░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░▒░▒▒░░░▒▒░░░▒▓▓▓▒░░░░░▒▒▒▒▒▒░░░░▒▒▒
░░▒░░░▒▒▒▒▒░░░░░▒▒░░░░░▒▒░░▒▒▒░░░░░░░░░░░░░░░░░░▒▓▒░░▒░▒▒▒░▒░▒▒░░░░▒░░░▒▓▒▒░░░░░░▒▒▒▒▒░░░░░░▒▒
▒░░░░░░▒▒▒▒░▒▒▒▒▒▓▓▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒░░░░▒░░░░░▒▒░░░░░░░░▒▒▒▒░░░░░▒▒▒▒▒▒░░░░░▒▒▒
░░░░░░░░░▒▓▓▓▓▒▒▒▒▒░░▒▒▒▒░░▒▒▒░░░░░░░░░░░░░░░░░░░▒▒░░░░▒░░░░░▒░░░░░░░░░▒▒▒▒░░▒▒▒▒▒▒▒▒▒░░░░░░▒▒
▒░░░░░░░░░▒▓▓▓▓▒░░░░░░░░░░░░▒░░░░░░░░░░░░░░░░░░░░▒░░░░░▒▒▒▒▓▒▒▒▒░░░░░░░░▒░░░▒▓██▓▓▓▒░░░░░░░░░▒
▒░░░░░░░░░▒▒▓▓▓▓▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░░▒▒▒▒▒▓▓▓▒▒░░░░░░░░░░░░░
░░░░░░░░░░░▒▒▒▒▒▒▒░░░░░░░░░░▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒░░░▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░
▒░░░░░░░░░░░░░░░▒░░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░▓▓▓▓▓▓▒▒▒▒░░░░░░░░░░░░▒▒▒
░░░░░░░░░░░░░░░░░░▒▓█▓░░░░░░░▒▒░░░░░░░░░░░░░░░░░░▒░░░░░░▒▒░░░░░░░░░░▓▓▓███▓▓▒▒▒░░░░░░░▒▓▓▓▓▓▒▒
▒▒▒░░░░░░▒▒▓▓▓▓▓▒░░▒▓▓▓▒░▒░░░▒▒░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░▒▓▒░░▒▓▓▓▓▓▓▓▓▒░░░░░░░▒▓▓▓▓▓▒▒░
▒▒▒▒▓▓░▒▒▒▒▓▓▓▓▓▒░░░░░░░░▓█▓▒░░░░░░▒▒▒▓▓▓▓▓▓▓▓▓▓▒▒░░░░░░░░░░░░░▒▒░░░▓▓▓▓▓▓▒▓▒░░░░░░░░▒▓▒▓▓▓▓▒▒
░░░░▒▒▒░░░░░░░░▒▒▒░░░░░░▒▓▓▓▓█▓▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░░▒▒▒▒▓█▓▒▒▒▒▓▓▓▒░░░░░░░░▒▓▓▓▒▒▓▓▓▒▒░
░░░░▒▒▒░░░░░░░░▒▒▒░░░░░░░░░▒▒▒▓▒▒▒▓▓▓▒▓▓▓▓█▓█████▓▒░░▒▓▓▓▓▓▓▓▒▓▓▒░░▒▒▒▒▒▒░░░░░░░░▓█▓▓▒▒▒▓░░░░░
░░░░░░▒▒░░░░░░░░▒▒░░░▒▒▒▒▒▒░░░▒▒▓▓▓▓▒▓▓▓▓▓▓▓▓▓▓▓█████▓▓▓▓▓▓▓▒▒▒░░░░░▒▒▒░░░░░░░░░░▒▓▓▓▓▒▒▒░░░░░
░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▓▒▓▓▒▓▓▓▒▓▓▓▓▓▓███████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▓▓▒▓▒░░▒░░░░░░░░░░░▒░░▒▒░░░░░░░░
▒▒▒▒▒░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▓▓▓▓▓▓▓▓▓█████▓▓█████████▓▓███▓▒▒▒▒▒▒▒▒░░░░░░░░░░░▒▒░░░░░░░░░░░
▒▒▒▒▒▓▒▒░░░░░░░░▒▒▒▒▒▓▒▒▒▓▓▓▒▒▒▒▓▒▓▓▓▓▓█████▓▓▓▓▓▓▓▒▒▒▒▒▒▓▓▒▒▓▓▓▓▒▒▒▒▒▒▒▒▒░▒░░░░░░▒▒▒░░░░░░░░░
▒▒▒▒▒▒▒▓▓▒░░▒▒▒▒▒▒▒░░░▒▒▒▒▒▒▓▓▓▓▒▒▒▒▒▒▒▓▒▒▓▓█████▓▓▒▒▒▒▓▓▓▒▒▒▒▓▓▓▒▒▒▒▒▒░▒▒░▒▒▒░▒░░░░░░░░░░░░░░
░▒▒▒▒▒▒▒▓▓▓▒▒░░▒▒░▒▓▒▓▒▒▒▒▓▓░░░▒░▒▒▒▒▒▒▓▓▓▓▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒░▒▓▒░▒▒▒░▒▓▓▒▒▒▒░░░░░░░░░░░░░░░
░░▒▒▒▒▒▒░░░░▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒▒▒▓▒▒▒▒▒▒▓▒▒▓▓▓▒▒▒▒▒▒▓▓▓▓▓▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒░▒▓▓▓▒▒░░░░░░░░░░░░░░
░░░░░░░░░░░░░▒▒▒▒▒▒░░░▒░▒▓▓▓▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒░░▒▓▓▒░▒▒▒▒░░░░░▒▒░░░░░░░░░░
░░░░░░░░░░░░░░░░░▒▒▒▒▒░░▒░░░░▒▒░▒▒░▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░▒▒░░░░░░░░░░░░
░░░░░░░░░░░░▒▒▒▒░░░░░░░░▒▒▒░░▒░░░░░░▒▒▒▒▒░░░▒▒░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒░▒▒░░░░░░▒░░░░░░▒▒▒▒░░░░░░░
░░░░░░░░░░░░░░░░░░░░░▒▒▒▒░░▒▒▒░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒▒▒░░░▒░░░▒░░▒░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░▒▒░▒░░░░░░░░▒░░░░░
            """
            "\nYou are standing at the entrance of a dark and eerie dungeon. You feel a cold breeze coming from inside.")
        print("Do you want to enter the dungeon? (Yes/No)")
        command = input().strip().lower()

        if command == "yes":
            self.enter_dungeon()
        else:
            print("You decide not to enter the dungeon. Maybe next time...")
            self.enter_village()

    def enter_dungeon(self):
        self.clear_console()
        print("You bravely step into the dungeon. The air is damp and filled with a strange odor. As you move deeper...")
        sleep(1.5)
        self.random_encounter()

    def random_encounter(self):
        print("\nAs you wander through the dimly lit corridors of the dungeon, you hear a noise behind you.")
        print("Suddenly, a goblin leaps from the shadows, growling and ready to fight!")
        print("""                                                                           
                                                                                                    
                                                    ▓                                               
                                               ▓▒▒▒▒▒▒▒▓▓█                                          
                                             ▒▒▒▒▒▒▒▒▒▒▒▓▓▓█                                        
                                            ▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓                                       
                                          ▓▓▒▒▒▒▒▒░░▒▒▒▒▒▒▓▓▓▒        ▓▓▓███▓▒▓                     
                              ▒▒▒▒▒▒▒▓    ▓▒▓▒▒▒▒░░▒░▒▒▒▒▒▓▓▓▒▒   ▒▓▓████████                       
                        ▓▓▓█████████▓▒▒▓▓▓▓▓▒▓▒▒▒▒▒▒▒▒▒▒▓▒▒▓▓▒▒█▓▓███████                           
                              █▓▓▓▓▓██▓▓▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓█████████                             
                                ▓▓▓▓▓▓███▓▓▓▒▓██▓▓▒▒▓▒▓▒▒▓█████▓██████                              
                                  ▓▓▓▓▓██▓▓▓███▒███▓█▓▒▓█████████████                               
                                   ▓▓▒▒▓▓▓▒▒▒▓▓▓▓▓▓▓▒▒▒▓▓▓▓███▓▓▓███                                
                                     █▓▓▓▓▓▒▒▒▒▒▒▒█▓▒▓▓▓▓█▓▓▓▓██▓████▒                              
                                     ▓▓▓▓▓█▓███▓▓▒▒▓█▓▓▓███████████████▓                            
                                    ▓▓▓▓▓▓▓▓█▓▓▓▓▒▒▒▒▒█████▓▓████████████▓▓                         
                                   ▓▓▓▓▓▓▓▓▓███▓▓▓█████████▓██████████████▓▓▒▓    ▒                 
                                  ▒▒▓▓▓▓▓▓▓▓▓████▓▓▓▓▓▓███▓█████████████████▓▓▓▓▒                   
                                 ▓▒▒▓▓██▓▓▓▓▓█▓▓███▓▓▓▓▓██████████████████▓▓▓▓▒                     
                                ▓▓▓▓▓▓▓██▓▓▓▓▓██████▓▓▓███████████████████████        ▒▒▓           
                              ▓▓▓▓▓▓▓██████▓▓▓█▓▓▓▓███████████████████████████▓   ▒▒▒▒▒▓██▒▓        
                            ▓▓▒▒▒▓▓████████▓▓▓▓█▓▒▒▓▓██████████████████████▓▓▓▓▓ ▓▒▓▒▒▓█▓▓▓██▓      
                           ▓▓▓▓▓▓█▓██   ▓██▓▓▓▓██▓▓▓▓█▓▓████████████████████▓▓▓▓▒▓▒▒▒▓█▓▒▓██▓██     
                      ▓▒▓▓▓▓▓▓████        █▓█▓▓▓█▓▓▓▓▓▓▓▓▓▓█████████████▓  █████▓▓▓▓▓█▒▒███▓███     
                    ▓▒▒▓▓▓▓▓▓▓██          ███▓▓█▓██▓▓▓▓▓▓▓▓█████████████▓    ███▓▓███▓▓██▓█████     
                   ▓▓▓▒▓▓▓▓▓▓██           ████▓█▓▓████▓▓▓▓▓█████████▓▓▓█▒      ██████▓████████      
                  ▓▒▓▓███▓▓▓██                 ███▓████▓█▓███▓████████▓        █▓▓██████████        
               ▒▓▒▓▓▓██████                    ██████▓▓▓▓▓▓▓██████▓███▓█        ▒█████              
            ▓▓▒▒▒▓▓██      ▒                 ██████████████████████████▓▓       ▒▓▒▒                
           ▓▓▒▓▒▓▓█                         ████████████████████████████▓█       ▒▒▒▒               
         █▓▓▒▒▓▒▒▓▓                        ██▓▓▓███████▓█████████████████▓▓       ▒▒▒               
        ▓▓▓▓▓▒▓▒▒▓▓                     ▓████▓▓▓▓████████████████████████████▓     ▒                
      ▓▓▓▓▓▓▒▒▓▓▒▓▓                  ████▓▓▓▓▓▓▓▓▓▓██████████████████████████▓                      
      ▓▒███▓▒▓██▓▒█               █████▓▒▒▒▒▓███▓█▓▓▓▓██████████████████████▓█▓                     
     ▓▒█  █▓▒▓█ ▓▓▓█           ███████▓▓▒▒▒▓▒▒▓█████████████████████████████▓▒                      
     ▓▓█  █▓▓▓  ▓▓██            █    █▓▒▒▒▒▒▓▓▓▓████████████████████████▓▓▒▒▓▓▒                     
     ████ █▓▓██ █▓██                 ▓▒▒▒▓▓▒▓▓▓▓▓██████████████████████▓▒▒▒▒▒▓▓▒                    
      ████ █▓█                     ▓▓▒▓▓▒▒▓████▓████████████████▓▓█████▓▓▒▒▓▒▒▓▓▒                   
           █▓▓▓                   ▓▓▒▒▓▒▒▓████   ▒▓██████████████████  █▓▓▒▒▓▓▓▓▓▒                  
            ████                  ▓▓▓▓▓▓▓████    ▒▓██       ███████     █▓▓▒▒▓▒▒▓▓▓                 
              ██                  █▓▓▓▓▓█████▓                ████       █▓▓▒▓▓▒▓▓▓▓                
                                   ██████████▓▒                ██     ▓▓▓▓█▓██▓▓▓██▓                
                                     ██████████                       █▓▓▓██▓▓▓████                 
                                       ████████                       ████████████                  
                                        ██████                        █████████                     
                                          ████                        █████                         
                                           ███                       █████                          
                                           ███▓                      █████                          
                                          █▓▓█▓                      ██▓█▓▓                         
                                       █▓▓▓▓▓▓█                     ███▓█▓▓▓▓                       
                                   ▓▓▓▓▓▓▓▓▓▓▒▒                    ████▓███▓▓▓▓                     
                                 ▓▓█▓▓█████▓▓▓▓▓                   ████▓███████▓                    
                               ▓▓██▓▓██████▓▓███                     ████    ████                   
                            █████████     ███                        ████      ████                 
                                                                                                                       """)
        print("What do you do?")
        print("1. Fight the goblin")
        print("2. Try to talk to the goblin")
        print("3. Run away")

        choice = input().strip()

        if choice == "1":
            self.fight_goblin()
        elif choice == "2":
            self.talk_to_goblin()
        elif choice == "3":
            self.run_away()
        else:
            print("Invalid choice. The goblin growls louder!")

    def fight_goblin(self):
        print("\nYou draw your weapon and prepare for combat!")
        goblin_hp = randint(5, 10)
        goblin_attack = randint(1, 3)
        while self.character.hp > 0 and goblin_hp > 0:
            print(f"\nGoblin HP: {goblin_hp}")
            print(f"Your HP: {self.character.hp}")
            print("What do you do?")
            print("1. Attack the goblin")
            print("2. Defend")

            action = input().strip()

            if action == "1":
                attack_damage = randint(1, max(1, self.character.strength_bonus))
                goblin_hp -= attack_damage
                print(f"You attack the goblin and deal {attack_damage} damage!")
            elif action == "2":
                print("You brace yourself, ready to defend!")
                goblin_attack_damage = max(0, goblin_attack - self.character.dexterity_bonus)
                self.character.hp -= goblin_attack_damage
                print(f"The goblin attacks, but you defend yourself. You take {goblin_attack_damage} damage.")
            else:
                print("Invalid action. The goblin takes advantage of your hesitation!")

            if goblin_hp > 0:
                print(f"\nThe goblin attacks you! You take {goblin_attack} damage.")
                self.character.hp -= goblin_attack

            if self.character.hp <= 0:
                print("\nYou have been defeated by the goblin!")
            elif goblin_hp <= 0:
                print("\nYou have slain the goblin! Victory is yours!")
                self.character.xp += 10
                self.character.gold += 5
                print("You gained 10 XP points and 5 gold coins")

    def talk_to_goblin(self):
        print("\nYou try to speak with the goblin.")
        print("Goblin: 'Grrr... Why you here? Goblin hungry!'")
        print("You can try to persuade it, or offer it some food.")
        print("1. Persuade the goblin to leave you alone")
        print("2. Offer the goblin some food")
        print("3. Attack the goblin")

        choice = input().strip()

        if choice == "1":
            if self.character.charisma_bonus > 0:
                print("You convince the goblin that you're not worth the trouble. The goblin grumbles and walks away.")
            else:
                print("Your words have no effect. The goblin growls angrily!")
                self.fight_goblin()
        elif choice == "2":
            print("You offer the goblin some of your food. It sniffs it, seems satisfied, and leaves you alone.")
        elif choice == "3":
            self.fight_goblin()
        else:
            print("The goblin isn't interested in your nonsense!")
            self.fight_goblin()

    def run_away(self):
        print("\nYou turn and sprint back toward the dungeon entrance. You manage to escape safely.")
        print("For now, the dungeon will have to wait...")

    def enter_village(self):
        self.clear_console()
        print("""
▓▓█▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓███▓█▓▓██▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█▓▓▓▓▓▓▓▓█▓█▓▓▓▓█▓███▓██████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓
▓██▓▓▓▓▓▓▓▓▓█▓██▒▒▒▒▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒█▓▓█▓▓▓▒▓▓▒▓▓▓▓▓
▓██▓█▒▓▓▒▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▒▓▓▒█▓▓▓▓
▓████▒▒▒▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒▒▒░▒▒▒░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▓▓▓▓▒░▒▒█▓▓▓
▓███▓█▓█▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒▒▒▒▒▒░▓▓▓▓▓▓█▓▓
▓██▒▒▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒▒▒▒░▒░░▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▓▓▒▒█▓▓
▓▓█▓▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒▒▒▒▒▒▒▒▒▒▓▓▒░░░░░░░▒░▒▓▓▒▒▒▒▒░░░░▒▒▒▒░▒▒▒▒▒▒▒▒▒▒░░░▒▒▒▒▒▓▒▒▒▓▒▒▒▓▓▓▒▓░░▒░▒▒▒▓▒▒▒▒▒▓▒░▓█▓▓
▓▓█▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▓▓▓▒▒▒▓▓▓▒▒▒▒▒░▒▒▒▒▒▒▒▒▒▒░░▒▒░░░░▒░░░▒░▒░░░░░▒▒▒░░▒▓▓▓▓
▓▓█▓▓▒▒▒▒▒▒▓▒▒▒▒▒▒▒▓▒░░░░░░░░░░░░▒░▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░ █▒█▓▓▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓█▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒░▓▓█▓▓
▓▓█▒▒▒▒▒▒▒▒▒▒▒▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▓▓▓▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░█▓▒█░░░░▒▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒
▓▓█▒▒▒▒▒▒▒▒▒▒▓░░░░░░░░▒░░░░░░░░░░░░░▒▓▓▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▓▓▒▓▓▒▓▓▓▓▒▒▒▒░▒█▒█▒░░░▒░░░▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒
▓▓█▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░░▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒▒▒▒▒▒▒▒▓▒▓█▓▒▒▒▒▒▒▒▒▓▒▒▒▒▒▒▒▒█▒▓▓░░░░░░░░░▒▓█▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒█▓▒
▓▓█▒▒▒▒▒▒▒▓░░░░░░░░▒▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓░░▒█▒▓▒▒░▓▒▓▓██▒▒▒▒▒▒▒▒▒▓▓▓███▒░░▓▒▒▓▒░░░░░░░░░░▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒
▓▓█▒▒▒▒▒▒▓░░░░░░░▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓███▓▓▒░░  ▒█▓▒█▓▒█▓░░░▒▒▓▒▒░░▒▒▒▒▒▒▒▒█▓██░░▒▒▒▒▒▒▒▓░░░░▒░░░░░░▒█▓▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒▒▓▓▒
▓▓█▒▒▒▒▒▒▓░░░░░░▓▒▒▒▓░▒██▓▓▒▒░░    ░░▒▓███▓██░░▓▓▓▒▓█▒░░░░▓███▒░░░░▒▒▓▓█▒█░▓█▓▓▓▒▒▒▒▒▒▓░░░░░░░░░░░▒▓▓▓▓░▒▒▒░░▒▒▒▒▒▒▒▓▓▓▒
▓▓█▒▒▒▒▒▒▓░░░░░▓░▒▒▓░░▓  ░▒▓▓███▓▓▓█▓▓▓▓▓▒█▒▒▓▓ ▒█▓▓█▒░░░▒▓▒▓▒█▒▒███▓▓▒▓█▒▓▒▓█▓▒▒▒▒▒▒▒▒▒▒▒▓▓░░░░░░░░░░░▒▓▓▓▒▒▒▒▒▓▒░░░▓▓▒
▓██▒▒▒▒▒▒▓░░░░░▓░░▒█▓░▒█▓▓█▓█▓▓▓▒█▓▓██▓░░█▓▒▓▒▒█░▒█▓▓▓▓▒▒▓▒▒▓▒█░█▒▓▓▒░▒▒▓░█▓▓█▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▓▒░░░░░░░░░░░░░░░░░░░░▒░▓▓▓
▓▓█▒▒▒▒▒▓▒░░░░░▓░▒░█▓ ▓▓▓▓▓▓▓▓▓▓▒▓▓▒▒▓▓█░░▓▓▒▒▓▒██░▒▒▓████▓█▓▓█░▓▓▓█▓░░░░░░▒▒▒▒▓██▓▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓░▒▓▒░░░░░░░▒░░░░░░░▓▓▓
▓▓█▒▒▒▒▓░░░░░░▒▒░░░█░▓▓▒▓█▓▓▒▓▓█▓▓█▒▒▒▓▓░░░▓▒▓▒▒▓▒██████▓▒░    ░░▒▓█▒░▒▓░█▒░░░█▒▓▒▓▒██▒▒▒▒▒▒▒▒▒▒▒▒▒█▓█▓▒▓▒░░░░░░░▒▓▓▓▓▓▓
▓▓█▒▒▒▓░░░░░░▓░░░▒▓▓ █░░▓▓█▓▓███▓▒▓▓▒▒░░░█▓░█▒▓▒▒█▒▒░█▓▓▓▓▓█▓▓▓▓▓▓█▓▓▒▓▓▒▒░▒█▓▓▒▓▒▓▓▓▓███████▒▒▒▒▒▒▒▓▓███▒▒▒▒▓▒▒▒▒▒▓▓▓▓▒
▓▓█▒▒▒▓░░░░░▒░▒▒▒▓█░▒▒▓▓▓ ▓▓▓▒▓▓▓▒▓▒▒░░░▒▒▒▓▒▓░▓█▒░░░░▒▒▓▓▓█▓▓▒▒▒▓█▒░░░░▓▓▓█░▓█▓▓▒▒▒▓▒▓▒▒▒▒██▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒▒
▓▓█▒▒▒▒░░░░░▓░░▒▓▒█ █▒▓▓▓░▒▒▓▓██▓▓▒▒░ ░ ░░▓▓▓░▓▓▒░░░░░░░░░░░▒▒▒▒▓▒▓░▒░░░█▓▓▓██▒░▒███▓▒█▓▒▒▓██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒
▓▓█▒▒░░▒░░░░▓░▒░█░▒▓▒▓▒▓▓█▒░░▒▒▒░░ ░░░░░░░▒█░▓▒█▓▓▓▓▓█░░░░░░░░░░░░░█▓▓▒░░█▓▓▓▓▓▓█▓░░▓█▒▒▓▒▒▒▒▓░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒
▓▓█░▓░░░░░░░▒░░░▓▓▓▒  ▓▓▓▓▓█▓░░░░░░░░░░░░▒▓ ░█▒████▓▒▓▓▒░░▓▓▒▓▓▓███▓█▓▒░▓▓▒▓▒▒▓▓▓█▓██▓ ▓▒▒█▓█▓▓█▓░░░▒▒▒▒▒▒▒▒▓▒▓▒▒▒▒▒▒▓▓▓
▓▓█▒▒░░░░░░▓░░░▒░░▒▓▓▒  ▓▓▒▓▒█▓░██▓█░░░▓█░▒▓▓▓▒▓▒▒▒▓▓█▓▓▓▓█▓▒▓▓▓▓█▓▓▓█▒░░░░▒▒▒▓█▒▒▒█▓▓▓██▓▒█▓▓█▓██▓▒░░░░▓████▓█▒▒▒▒▒▒▓▓▒
▓▓█▓░░░░░░▒░▒░░░░▒░░░▒▓▒ ░█▒▓▒▓▓█▒▓▓█▒█▒▒▓▒ ░░░▓▓▓██▓████▓██▓▓▓▒▒▒█▒▓█░░░░░░▒▓▒█▓█▓░░▒▒▒▓██▒░▓██▓█▒▓▓▒░░█▓▒▒▓█▒█▒░░░▒▓▓▒
▓▓█▒░░░░░░▓░░▒░░░░░▓░▒▓▒▓░ ░█▒▓▓▒▒▓█░░▓█▓█░░░░▒▒▓██▓▓▓▓▓█▓▓▓▓▓▒▒▓█▓▓██░░░ ░░░▓▒▓▓▒████▒░▒▓▓███ ░▓▓▒▓▓░░░▒▓▒▒▒▓█▒▒▒░░▒▓▓▒
▓▓█▒░░░░░░▒░░░░░░░▓▒▓███▓▒▓░ ▒█▓█▒ ▒██▓░░░░░░░▓█▓▓█▓█████▓▓▒▒▒▒▓▓█▒▓▓▓░░░░░░▒▒▓█▒█▓█▓▓▓█▓░▓▓█▓██▒░▓▓▒▓░░░▒▓░░▒▒▒▒░░▒▒▓▓▓
▓▓█▒░░░░░▒▒▒██▒▒██▒▓▒▒▒▓▓███▓░  ░▓▓█▒▓█░░░░░ ░░░▓▓░░▒░░▒░░░▒░▓▓▓▓▓▒▓█░░░▓▓█▓▓▒░░▓█▓▓▓██▓▓▓█▒▒██▒▓▓█▒ ▒█░░░▒█▒▓█▓░░░░░▓▓▒
▓██▓░▒░▒░▓░▓▓▒▒▓▒▒█▒▒▒▓▓█▒█▓██▒▒█▓▓▓▓█▓▒░░░░░░▒▒▒▓█▒░░░▓▓▓▓▓▓████▓██▓░░▒█████▓▓░░░░▒▓▓▓▓▓█▓▓█░░░▒▒░▒░▒██░▒░▓▓▓▓▓▒▒▒▒▒▓▓▒
▓██▓▓▓▓▒▒▒▒░▓█▒▒▒█▒▒▒▓▒█▒▓█▒▓█▒█▓▒▒█▓▓▓█░░░░░░░▓▓▓▒░▒█▓▓████▓▓▓▓█▓▓██░▒▓▓▒░▓███░░░░░░▓▓▓░▓▓▒░░░░░▓███▒░▒█▒▒▒▓▓▓██▓▒▒▒▓▓▒
▓██▒░░░░░░░▒░░░░▒█▓▓▓▓█▒▓█▓█▒░█▓▓█░▒▓▒▓▒███░░░░░░░░░▒█▓▓▓▓▓▓▓▓▓▓▒▒▓▓█░░▓█▒▒▓█▒▓░░░░░░░░░░░░░░▓▓░▓▓▓▒█▒█▓▒▒▒▒█▒▒▓█▓▒▒▒▓▓▒
▓██▓▓▓▓▓▓▓▒▓░░░░░░░▒▓▓▒▒▒▓▓▓█▒▓▓█▓█▓░█▓█▓▓█░░░░░░░░░░▓▓▒▒▓▓▓▓▓▓█▒▓▓▓▓░░░▒▓▓▓▓░░░░░░░░░░░░░░░▒▓▓░▓▒▒▒█ █▓▓█▒▒▒▓▓▓▓▒▒▒▒▓▓▒
▓██░░░░▒░░▒░░░█▒▓██░░░░░▒▓▒▒▓░██▓▓▓▓░░░░░▓▓▓░░░░░░░░░▒▓▒░░░░░██▓▓▒░░░░ ░░░░░░ ░░░░████████▓█▓░░░▓▒▒▓▓ █▓▓█░▒▒▒▒▒▒▒▒▒▒▓▓▒
▓█▓░░▒░▒░▒░░▒▓▓▓▓▒▒▓▓█▓▒▒░▒▓░░░░█▓░░░░░░░▒▒░░░░░░░░░░░░░░░░░░░░░████▓ ░▒░▒▒░ ░░░ ░▓▓▓▓▓▓▓▓█▓█████▓▒▓▓ █▓▓█▒▒▒▒▒▒▒▒▒▒▒▓▓▒
▓██░░░░▓░▒▒▒▒▓▓▓▒▒▒█▓█▒▓▒▒█▒░▓██▓▒▒░░░░░░░░▒░░░░░░░░░░░░░░██████▓▒▓▓▓░░░░░░░░░░░░▒▓▓▒▓▓▒░▒▓▓█▓▓▓▓▓█▓▓░█▓▓█░▒▒▒▒▓▓▒▒▓▒▓▓▒
▓██░▒░▒▒▒░░▓▒▒▒▒▒▓▓▓█▓▓▓▒▓▓▒░▓▓▓▒▒▒████████▓███▓▒░░░░░░░░▒▓█▓█▓▓▓▒▓▓█░░░░░░░░░░░░░▓▓█████████▓▓▓█▓▓▓█▓▓█▓░░▒▒▒▓▒▒▒▒▓▒▓▓▒
▓██░░▓▒▒▒▒█▓███▓▒▒▒▓▒▒▓ ▓███▓█▒▒▒▒▓██▒▓█▒▓██▓▓██▒▓▓█▒░░░░░█▒▓▓▓██▓▓████████▓▒░░░░░▓▒▓▒▒▒▒▒▒░░░░▒▓▓▓▓█▓▒▓▒██▓█▓▓▒▒▒▒▒▒▓▓▒
▓██░▒▒▒▒▒▓▓▓▒▓▓█▓▓▒▒▓█░▓█▓▓▓▓█▒▒▒▒▒▒▓▒▒▓▒▒██████▓▓▓█░░░░░░░▓▓▓█▓▓▓▓▒▓▒▓▓▒▓█▓▓░░░▒▒▒▒░░░▒▒█▓▓█▒▒▒█▓▒▓▓▒▓▓██▓▓▒██▓▒▒▒▒▒▓▓▒
▓█▓▒▒▒▒▓▓████▓█▓▒░▒▓▓░░█▓▓▓▒█▒░░▒▒▒▒█▒▒▓▒▒██▒▓██▒█▓█▒░░░░░░▓▓▒▓▓▓▒▓▒▒▒▒▒▒▒▓▓▓░░▓▓▓▓▓█▓▓▓▓▓▓▓▓▓▓░▓▓▓▓▒█ █▓▓░▓▒██▒▒░░░░▓▓▒
▓██▒▒▒▓▒▒▒▒▓██▓▒▒▒▒▓▓ █▒█▓▓█▓▒░░▒▒░▒█▒▒█▒▒██▒▓▓█▒▓▓█▒░░░░░░▓▓▒▓▓▓▒▓▒▒▒▒▒▒▒▓▒▓░░▒▓▒▓▓█▓█▒▒▓▒▒▒▓█▒▓▓▒▒▒█ █░█▒▒▓▒█▒░░░░░▓▓▒
▓██▒▒▒▓▒▒▒▒▒▓█▓▒░▒░▓ ▓█▓███▓▒▓█▓▒░▒▒▓▓▒▒▓▓█▓▒▒▓▓▒▓▓█▒░░░░░░▒▓▓▓▓▓▓▒▒▒▒▒▒▒▒▓▓█▒░▒▓▒▓▓█▒▓▓▒█▓▓▓▓▒▓█▓▓▒▓▓█▒▓▓█▒▓▒▓▓░░▒▒░▓▓▒
▓██░▒▒▒▓▓▓▓██▓░░▒▒▓░▒▓▓▓▓▓▓▓█▒▓███▓░▒▒▒▒▒▒▒▒▓▓▓█▓▓██▒░░░░░░░▓▒█▓▒▓▓██▓▓▓▓█▓▓▓▓▒░▒▓▓▒█▒▒▒▒██▓▓▒▓██▓▓▓▓▓▓▒▓▒▓█▓▓░░░░░░░▓▓▓
▓█▓░▒▒░█▒▓▒██▒▒▒▒▓▒ ▓█▓▒▒▒▓▓▓▓▒▓▓█▓░░▓▒▓███▒▓▒▒▒▒▓▒░░░░░░░░░░▒█▒▒▓▓█▓▒▓▓▒▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░░░▒▒░░░▒░░░░░▒░░░░▓▓▒
▓█▓▒▒▒░▓▓▒▓▓▓░░▒▓█░▓█▓▓▓▓███████▓█░▒▓▒█▓▓█▓█▒░▒▓▓███▓░░░░░░░░▓▓▒▒▓▒▓▓▒▓▓▓▓▒▓▓▓█░░░░▓▓▓▓▓▓▓▓▓▓▓▓▒▓█████▒▒█▒▒▓▓█▒▓█░░░░▓▓▓
▓█▓▒▒▒▒▒▒░▓▒▒▒░░▓▒▓▓█▒▒▒▒█░░▓▒▒█▓█▒▒▓█▒█▓▓█▓▒▒░▓▒▓█▓▒░░░░░░░░▒▓▒▓▓▓▓▓▓▓▓▒▓▓██▓▒░░▓▓▒░░▒░░▒░░░░░░░░░▓█▒███▒▒█▒█▒▓█▒▒▒░▓▓▓
▓█▓▒▒▒▒▒▒▒░░░░░▒█░██▓▓▓██▒▒░▓█▓▒▒█▓▒▒▒░▒▒█▒░███▓▓▓▓▒░░░░░░░░▒▒▓▓▓▓▓▓███▓██▒░░░░░▓▒░░░░░░░░░░░░░░░░▓█ ▓█▓▒▒▒▓▒▓▒▒▒▒▒▒▒▓▓▒
▓██▒▒▒▒▒▒▒▓█░▒▒▒▓░▓█▓▒▒▓▓▓░░░▒░▓▓▓██▓▓▓█▓░▒███████▓▓▒░░░░░░░▒▒██████████████▒░░░▒▒░░░░░░▓▓░░░░░░░▒▓ ▓█▓▓▓█▓▓▓▒▒▒░░▒░▒▓▓▓
▓██▒▒▒▒▒▒▒▒▓░▒▒▓░▓▓▓██▒░▒░░  ░░▒░░▒█▒█▒█▓▒▒▓▒▓▓█▒█▓▒░░░░░░░░▓▒▓▓▓▓▓▓▓▓▓▓█▒▓▓▒░░░▒▒░░░░▒▒▓▓▓▒░░░░▒█ ▓█▒▓▓█▒▒▒░░░░░░░░▒▓▓▓
▓█▓░▒▒▓▒▒▒▒░▓▒▓█ ██▓▓█▒ ░░░░░░░░░░░▓▓▓▓█▓▒▒▓▓▒▓▓▓█▓▓▒░░░░░░░░▓▓▒▓▓▓▓▓▓▓▓▓▓▓▓▓░░▒▓▓░░░░░░░░░░░░░░█ ▓█▒▓██▒▒▒▒░░░░░░░▒▒▓▓▓
▓█▓▒▒▓██▒▒▒▒░▒▒█▒██▒██▒░░░░░▒▓█░░░░▒▓▒▓█▒▒░█▒▒▓▒▒█▓▓▒░░░░░░░░▒█▒▒▓▒▒▓▒▒▓█▓▓█▒░░░▓█▓▒░░░░░░░░░▒▒▓ ▓█▒█▒█▒▒▒▒░▒░▒▒▒░▒░░▓▓▓
▓█▓▒▓▒▒▓▓██▒▒▓█░░█▒▓▓▓█▒░▓█▓▓███░░░▒█▒▓▓▒▒▒█▓▒▓▓▓█▓▓▒░░░░░░░░▒█▓▓▓▓▓▓▓▓▓▓▓▓▓█░░░▒▒▓█▒░░░███▓░█▓ ▓▒█▓▓█▒▒▒▒▒▒▒▒░▒░▒▒▒░▓▓▓
▓██▒▓▒░░▒▓█▒▒░▓▓█░░▓█▒▓▓▓▓█▓█▓▒▓██░░▓▓▓▓░░░█▓▒▒▒▓█░░░░░░░░░░░▒▓▒▒▒▒▓▓▓▓▓▓▓▓▓▓░░░░░░▒▓▓░█▓▒▓██▓ ▓▓▓▒▒▒▒▒▒▓▒▒▒▒▒▒░░▒░░▒▓▓▓
▓██░▒█▒▒▒█▓▒▒▒▓█▓█░ ██▒█▓▓▒▓█▒▓█▓█▓░░░░░░ ░░▓▒▓▓▓░░▓▒░▓▒░░░░░░░░░▒▓▒▓▒▓▓▓▓▓▓▓░░░░░░░░▓▓▒▒░▒█▓ ▓█▓▒██▓▒▓▓██▒░▒▒░▒▒░▒░░▓▓▒
▓██░▒░▒▒▒▒▒▒▒▒▒▒█▓█▒ █▓▓█▓░▒█▓█▒░░░░░░░░░▓▓▒░░░░░░▒▓░░▒▒░░░░░░░░░▒▒░░▒▒▒░▒▒░░░░░░░░░░░░▒▓▓▒█▒▒▓▓▓▒▓▓▒▒▓▓▓▓▒▒▒░░░▒▒▒░▒▓▓▒
▓██░▒▒░░▒▒▒▒▒▒▒░█▒▓▒▓ ▓█▓██▒░░░░░▒▒░░░░░█▒▓█▓█▓░░░▒░▓▒▒░░░░▓▓█▓▒░░░░░░░░░░░░░░░░░░▒▓░░░░░░▒▓▒▓▓░░▒▒░██▓▒▓▒▒░▒░▒▒▒▒░░░▓▓▒
▓▓▓░▒▒▒░▒▒▒▒▒▒▒▒░▒▓███░░█▓█▓░░░░▒▓▒▓▒▒▒█▒▓▓█▒▓▓▓▓░░░▒▒░░░░▓▓▒▓▒▓▓▒░▒▒▒▓▓█▓▓█░▒▓▒▒█▓▓█▒░▒█▓█▒░▒░▒▒▒▒▒▓░▒█▒▒▒▒░░▒░▒▒▒░▒▓▓▒
▓▓▓░░░░░▒▒▒▒▒░▒▒▓▓▒▓▓██░░██▓▓░▒▒▓▒▓█▒░▒▓▓▓█▓▒▓▒█▓░░░░░░░▒▒█▓▓▓▓▓█▓▓▓▓▓▒▒░▒░▓█▒▓▓▓▓▓█▓█▓█▓▒▒███▒░░░░░░░▒▒▒▒▒░▒░▒▒▒▒░▒░▓▓▒
▓██░░▒░▒░░▒░░▒░▒▒█░▓▓██▓█▓█░░▒▒▓▓▓▒▒▓█▒▒█▒█▓█▓█▓▓▒█▒░░░▒▓█▓▒▓▒▓▓▓█▓▓█▒▒▒▓▓▒▓█▓▓█▒░░█▓█░▒███▓▓▓▒▓█░▓▒░░░░▒▒░▒▒▒░▒░▒░░░▓▓▒
▓██░░▓▒▒░▒░▒▒░▒▒▒░▓▓▓▓█▓▒░▒▒▒▓███▓▒▒▒█▒▒███▓▓▒▓▓▓▓█▓▓█▒▒▓▓▓▓▓▓▒▓▓▓█▒█▓▒▓▒▒▓▒▓█▒█▒▓▓█▓░▓███▓▒▒▓▒▓▓░▒▒▒▒▒░░░░░▒▒▒░▒▒▒▒▒▓▓▒
▓▓█░▒▒▒░▒░░▒░░░▒▒▒░▓▒▓▓▓▓▓▒▒▓░▒▓░    ▓█▓█▓▒▒███▒▒▓▓███▒░▓▓▒▒▒▒▓▒▒██▓█▒▒▒▒▓░░▓█▒▓▓▓█ ▒█▒▓▒█▓▒▓█▒▒▒▒▒▒▒▒▒░▒░▒░░░▒▒▒▒▒▒▒▓▓▒
▓██▒▒░▒▒▒▒░▒░░░▒▒▒▒▒▓▓█░▓░░▒▓▓▓▓▒▒▓▓▓▒▒▓░██▒▓█▒██▓▓▓█▓▒▒▓▓▓█▒▓▓▓▓██▓█▒▒░░░░▒░▓▓▓▓▒▒█▒█▓▓▒▒▓▓█▒▒▒▒▒▒░░▒▒░▒▒▓▒░░░▒▒▒▒▒▒▓▓▓
▓▓█░▒░▒░░░▒▒▒▒▒░░▒▒▒░▒▒░▒░▒░░░░░░░▒▒▒▒▓▒▒█▓░██▒▓▓▓█▓▒░▓▓▓▒▓█▓▓▓██▓▒▒▒▓░▒░░░▒▒▓█▓░▓█▒██████▒▒▒▒▒▒░▒▒░░▓▓░░░░▒▒░░▒░░░░▒▓▓▓
▓██░░▒▒░░▒░░░▒▒░▒░▒▓███▓▓░█▓███▒▒▒▓▓█▓▒▓▓░▓██▒ ██▓▓▓▒▒▓▒▒▒▒▒▒▒▒▒░▒▒▒███████▒▓▒▒███▒▓▒▒░░▓█▒░▒▒░░░░░▒░▒▒░░▒░▒░▒░▒▒▒░▒░▓▓▓
▓▓█▒░░▒░░░░▒▒▒▒░░▒▓▓░▓▒▓█▒▓▓▓▓█░▒▓▓▓█▓▓█▒▓██▓▓▓█▓▓██▒▒█▓▒▒█▓██▓▓▒░░▓▒▒▓▓▓▓█▓▓▓▓▓▒▒▒▒▓▒▒▒▓▓▒▒▒▒▒░▒▒▒░░▒█░░▒▒░▒▒░▒▒▒▒░▒▓▓▓
▓▓▓░▒░░░▒░░▒░░░▒▒▒█▒▒▒▒█▒▓▒▒▓██░▓░▒▓█▒░░█▒█▓▓█▓░▓░ ▓▒▓▒▓▓░░▒▓██▓▓█▒▓▒▓▓█▒░▒▒▒▒░▒▒▒░▒▒▒▒▒▒▒░▒▒░░░░░░░▓░██░░░░░▒▒▒▒▒▒▒▒█▓▓
▓▓▓░░░░▒▒▒▒▒▒▒▒░▒▒▓█▓▓█▓▒▓▒▒▒▓█░░░▒▓▒░▒░█░▓▒▓▓▒▒▓▒▓▒▒▓▒▒▓▓███▓▒▓▓▓█▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░▒▒░▒░▒░░▒░░░░▒█▓▒▓▓▓▓█░░▒░▒▒▒░▒▒▒█▓▓
▓▓█░▒░▒░░░▒░▒▒▒▒▒▒▓▓▓▒░░▒▓▓▓▓▓▓░░░▒▓█▓▒▒▓▒▓▓██▓▓▒▒▒░▒▒▒▒▒▓▒▒▓█▓▓▓▒▒▒░▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒░░░░▒▒░▒░░▒▓░▓█▒▒▓▓██▓█░░░▒░░▒▒░█▓▓
▓▓▓░░▒░▒░▒░▒░▒░▒▒▓▒▓▓█▓░▓▓░░▒░░░░▒▓▓▒▓▓█▒▒▓▓▒▓▒▒▓▓█▒▓▓█▒▒▓█▓█▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒░▒░▒░░░░░▒░▒▒░░▓░▒░░░█▒▓▓▓▓█▓█▒░░▒░░▒░█▓▓
▓▓▓░░▒░░▒░▒░▒▒▒▒▒█▒▓▓█░▓▒█▒░▓░▒▒░░▓▓▒▓█▒▒▒▓▓▒▓░▒▓▓█░▓▓█▒▒▒▒▒▒▒▒▒▒░▒░░▒░░▒▒░░░░░▒░▒▒░▒░░▒░░░░▒█▓░░░░▒▓▓█▓▒▓▓█▓█▓░░░░▒░█▓▓
▓██░▒░▒░░▒▒▒▒▒▒▓▓█▓▓█▓░▒▒░░▒▒▒▒▓█▒▒▒▒▒▒▒▒▒▒░▒▒▓▓▓▓▓▒▒▓█▒▒▒▒▒▒▒▒▒▒▒░▒▒▒░░░░▒▒░░▒▒░░▒▒▒▒░▒▒░░░▓▒▓▒░░░▒▒▓▒█▓▓▓█▓███▒▒░░░█▓▓
▓██░░▒░░░▒▒▒▒▒▓▓▓▒▓▓▓▒▒▓▒▓░░░░░░░░▓▓█▓▒▒▒▒▒▒▒▒▒▓█▓░▒░░▒▒▒▒▒▒▒▒▒░░░▒░░░▒▒░░░░░▒░▒░▒░░░▒▒░░▒▒░░░█░▓░░▓▒▓▒▒▓▒██▓▓░░▒▒▒▒░█▓▓
▓██░░▒░▒▒▒▒▒▒▒█▓░▓▒█▒▒▒░▒▒▓▒░░░░░▒▓▓█▒▒▒▒▒▒▒▒▒▓▒▓█░▒▒▒▒▒▒▒▒▒▒▒░░▒▒▒▒░░░░░▒▒▒▒▒░▒░▒▒░▒░░▒▒░▒▒░░░▓░▓▒░▒▒▒▒▓██▓▒░░▒▒▒▒▒░██▓
▓██▒▓▒▒▒▒▒▒▒▒▒█░▓▓██▒▓▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▒░▒░▒▒▒▒░▒▒▒░▒▒░░▒▒▒░░░▒▒▒░▒▒▒░░░▒░▒░▒▒░▒▒░░░░░▒█░▒▓▓█▓▓▒█░░░▒▒░░░▓▒██▓
▓█▓▓▒▒▒▒▒▒▒▒▒██▒▓▓█▓░▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒▓█░░░▒▒▒▒▒▒▒░▒▒▒░▒▒░▒▒▒▒▒▒░░░░▒░░▒░▒░░░░▒▒░▒▒▒░░░░░░▓██▓█▓░░░░░░▒░░░▒▓█▓▓
▓██▓▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒░▒▒░▒░▒▒░░░▒░░░██▓█████▒░▒▒▒░░▒░░░░▒░░▒░░░▒░░░░█▓░░░░░▒░░░▒▓▒░██▓▓
▓██▒▒▓▓▓▒▒▒▒▒▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒░▒░▒▒▒▒▒▒░▒░░░░░░▒████▒▒░▒▓█░▒░▒▒▒░░░░▒▒░░▒▒░░░▒▒░░░▒░░░░▒▒░░░░░░▒▓▓▒▒█▓▓
▓██▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒░▒░▒▒▒▒░░░░▒░▓▓█▒▒▒▓█▒▒▒░▒▒▒▒░░▒░░░░▒░░░░▒░▒▒▒▒░░░░░░░░░░▓█▒▓███▓▓
▓██▓▓▓▒▒▓▓▒▓▒▒▒▒▒▒▒░▒▒▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒▒▒░▒▒▒░░░▒▒▒░▒░▒░▒░░▒▒▒▒▒▒░▒▒▒░▒░▒▒▒▒▒▒▒░▒▒▒▒▒░▒▒▒░░░░█▒▓▓▒░▒▓██▓▓
▓██▓█▒▓▓▒▓▓▒▓▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒░▒░░░░░░▒▒░▒▒░▒░▒▒░░▒▒▒▒▒▒░░░░░░▒▒▒░░░░░░░░░░░░▒▒▒▒▓▓▓▒▓▓▒█▓██▓
▓██▓▓▓█▓▓▓███▓▓█▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▒▒▒░░░░░░▒░░▒░░▒▒░░░░░▒░▒░▒▒░▒▒░░▒░░░░░░▒░▒░░▒▒▒▒▒▒▒▒█████▓▓▒▓▓▓▓▓██▓
█████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█▓▓▓▓▓█▓▓▓█▓██▓▓▓▓▓▓███▓█▓██▓█▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█""")
        print("You find a village not far from the dungeon entrance.")
        print("A man at the gate of the village tells you:")
        print("Welcome to the village! Here, you can:")
        print("1. Visit the shop")
        print("2. Talk to the villagers")
        print("3. Rest at the inn")
        print("4. Leave the village")

        choice = input("What do you want to do? (1/2/3/4): ")

        if choice == "1":
            self.visit_shop()
        elif choice == "2":
            self.talk_to_villagers()
        elif choice == "3":
            self.clear_console()
            print("You rest at the inn and regain your strength.")
            self.character.hp = min(self.character.hp + 5, 10)
        elif choice == "4":
            self.clear_console()
            print("You leave the village and return to the dungeon entrance.")
            self.enter_dungeon()
        else:
            self.clear_console()
            print("Invalid choice. Please try again.")
            self.enter_village()

    def visit_shop(self):
        self.clear_console()
        print("Welcome to the shop! Here are the items available for purchase:")
        shop_items = {
            "Potion": {"price": 5, "description": "Restores 5 HP"},
            "Sword": {"price": 10, "description": "Increases attack damage"},
            "Shield": {"price": 8, "description": "Increases defense"}
        }

        for index, (item, details) in enumerate(shop_items.items(), 1):
            print(f"{index}. {item} - {details['price']} gold ({details['description']})")

        print("4. Leave the shop")
        choice = input("What do you want to buy? (1/2/3/4): ")

        if choice in ["1", "2", "3"]:
            item_name = list(shop_items.keys())[int(choice) - 1]
            item_price = shop_items[item_name]["price"]

            if self.character.gold >= item_price:
                self.character.gold -= item_price
                print(f"You bought a {item_name}!")
            else:
                print("You don't have enough gold to buy that.")
        elif choice == "4":
            print("You leave the shop.")
            self.enter_village()
        else:
            print("Invalid choice. Please try again.")
            self.visit_shop()

    def talk_to_villagers(self):
        self.clear_console()
        villagers = [
            {"name": "Old Farmer", "dialogue": "The dungeon is cursed, they say. Beware of the traps inside!"},
            {"name": "Young Blacksmith", "dialogue": "If you need stronger weapons, come see me after exploring."},
            {"name": "Wise Woman", "dialogue": "Legends speak of treasures hidden deep within the dungeon."}
        ]

        while True:
            self.clear_console()
            print("You walk around the village and meet some villagers:")
            for index, villager in enumerate(villagers, 1):
                print(f"{index}. Talk to the {villager['name']}")
            print(f"{len(villagers) + 1}. Return to the village entrance")

            choice = input("Who do you want to talk to? (1/2/3/...): ")

            if choice in [str(i) for i in range(1, len(villagers) + 1)]:
                selected_villager = villagers[int(choice) - 1]
                self.clear_console()
                print(f"You talk to the {selected_villager['name']}:")
                print(f"'{selected_villager['dialogue']}'")
                input("\nPress Enter to continue...")
            elif choice == str(len(villagers) + 1):
                print("You return to the village entrance.")
                break
            else:
                print("Invalid choice. Please try again.")
                input("\nPress Enter to continue...")

    def check_input(self):
        print("\nWhat would you like to do? (Type 'Help' for options)")
        command = input().strip().lower()
        if command == "stats":
            self.clear_console()
            self.show_stats()
        elif command == "help":
            self.clear_console()
            self.show_help()
        elif command == "quit":
            self.close = True
            print("Exiting the game. Goodbye!")
        else:
            print("Unknown command. Type 'Help' to see a list of available commands.")

    def show_stats(self):
        if self.character:
            print(f"Name: {self.character.name}")
            print(f"HP: {self.character.hp}")
            print(f"Level: {self.character.level}")
            print(f"XP: {self.character.xp}")
            print(f"Gold: {self.character.gold}")
            print(f"Strength: {self.character.strength_bonus}")
            print(f"Dexterity: {self.character.dexterity_bonus}")
            print(f"Constitution: {self.character.constitution_bonus}")
            print(f"Intelligence: {self.character.intelligence_bonus}")
            print(f"Wisdom: {self.character.wisdom_bonus}")
            print(f"Charisma: {self.character.charisma_bonus}")
            print("\nType 'Return' to go back to the game.")

            while True:
                return_command = input().strip().lower()
                if return_command == "return":
                    self.clear_console()
                    return
                else:
                    print("Invalid command. Type 'Return' to go back.")
        else:
            print("Character not initialized.")

    def show_help(self):
        print("Available commands:")
        print("  Stats - Show your character's stats.")
        print("  Help - Show this help message.")
        print("  Clear - Clear the console screen.")
        print("  Quit - Exit the game.")

    def update(self):
        while not self.close:
            self.check_input()